# ===============================================
# Test Environment Configuration
# ===============================================
# @SpringBootTest + @ActiveProfiles("test") 시 사용
# local 환경과 동일한 설정 (Redis localhost, Sentry 비활성화)
#
# @author Development Team
# @since 1.0.0
# ===============================================

spring:
  config:
    import:
      - classpath:redis.yml
      - classpath:redis-local.yml

  # Redis (Local for Testing)
  data:
    redis:
      host: localhost
      port: 6379

# ===============================================
# Sentry (Disabled for Test)
# ===============================================
sentry:
  dsn: ""

# ===============================================
# Gateway Routing (Test: Static URIs)
# ===============================================
# discovery.enabled는 gateway.yml에서 프로파일별 설정
gateway:
  routing:
    services:
      - id: authhub
        uri: http://localhost:8080
        port: 8080
        paths:
          - /api/v1/auth/**
        public-paths:
          - /api/v1/auth/login
          - /api/v1/auth/refresh
          - /api/v1/auth/logout
          - /api/v1/auth/.well-known/**
          - /api/v1/auth/jwks

      - id: marketplace
        uri: http://localhost:9090
        port: 9090
        paths:
          - /api/v1/market/**
        public-paths:
          - /api/v1/market/auth/login
          - /api/v1/market/auth/refresh

# ===============================================
# Logging (Test: INFO)
# ===============================================
logging:
  level:
    root: INFO
    com.ryuqq.gateway: DEBUG
